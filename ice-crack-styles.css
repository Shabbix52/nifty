/* Realistic Cold Frost Effect */
.frost-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 9998;
    background: 
        /* Main frost texture */
        radial-gradient(ellipse 120% 120% at 0% 0%, #007ce9cc 0%, transparent 70%),
        radial-gradient(ellipse 120% 120% at 100% 0%, #007ce9cc 0%, transparent 65%),
        radial-gradient(ellipse 120% 100% at 0% 100%, #007ce9cc 0%, transparent 60%),
        radial-gradient(ellipse 120% 120% at 100% 100%,#007ce9cc 0%, transparent 70%),
        /* Center coverage */
        radial-gradient(ellipse 80% 80% at 50% 50%, #007ce9aa 0%, transparent 60%),
        radial-gradient(ellipse 60% 90% at 50% 30%, #40E0D0aa 0%, transparent 50%),
        radial-gradient(ellipse 90% 60% at 30% 50%, #40E0D0aa 0%, transparent 50%),
        radial-gradient(ellipse 60% 90% at 50% 70%, #40E0D0aa 0%, transparent 50%),
        radial-gradient(ellipse 90% 60% at 70% 50%, #40E0D0aa 0%, transparent 50%),
        /* Additional frost layers for texture */
        radial-gradient(ellipse 40% 30% at 20% 30%, #40E0D0 0%, transparent 50%),
        radial-gradient(ellipse 35% 45% at 80% 20%, #40E0D0 0%, transparent 60%),
        radial-gradient(ellipse 50% 35% at 15% 70%, #40E0D0 0%, transparent 55%),
        radial-gradient(ellipse 45% 40% at 85% 80%,#40E0D0 0%, transparent 65%),
        /* Fine frost details */
        radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.4) 0%, transparent 20%),
        radial-gradient(circle at 75% 25%, rgba(250, 255, 255, 0.3) 0%, transparent 25%),
        radial-gradient(circle at 25% 75%, rgba(255, 255, 255, 0.4) 0%, transparent 22%),
        radial-gradient(circle at 75% 75%, rgba(248, 253, 255, 0.35) 0%, transparent 18%);
    backdrop-filter: blur(2px) brightness(0.4) saturate(0.3) contrast(1.4);
    opacity: 0;
    animation: frostSpread 8s ease-out forwards;
}

.frost-overlay.disappearing {
    animation: frostDisappear 6s ease-in forwards;
}

.cold-particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 9998;
    pointer-events: none;
}

.cold-particles::before,
.cold-particles::after {
    content: "";
    position: fixed;
    top: -3000%;
    bottom: 0;
    right: 0;
    left: 0;
    background-color: rgba(0, 0, 0, 0.01);
    background-image: url(https://laviwebfiles.com/stage/codepen/4-2-white-snow-png.png);
    background-size: 30%;
    animation: MOVE-BG 800s linear infinite;
    pointer-events: none;
}

.cold-particles::before {
    filter: blur(6px);
    opacity: 0.8;
}

.cold-particles::after {
    filter: blur(1px);
    top: -1500%;
    background-size: 90%;
    animation-duration: 400s;
}

/* Additional snow layers for more depth */
.frost-overlay::before {
    content: "";
    position: fixed;
    top: -2500%;
    bottom: 0;
    right: 0;
    left: 0;
    background-color: rgba(0, 0, 0, 0.01);
    background-image: url(https://laviwebfiles.com/stage/codepen/4-2-white-snow-png.png);
    background-size: 60%;
    filter: blur(4px);
    opacity: 0.8;
    animation: MOVE-BG 700s linear infinite;
    pointer-events: none;
    z-index: 9997;
}

.frost-overlay::after {
    content: "";
    position: fixed;
    top: -2000%;
    bottom: 0;
    right: 0;
    left: 0;
    background-color: rgba(0, 0, 0, 0.01);
    background-image: url(https://laviwebfiles.com/stage/codepen/4-2-white-snow-png.png);
    background-size: 70%;
    filter: blur(2px);
    opacity: 0.8;
    animation: MOVE-BG 600s linear infinite;
    pointer-events: none;
    z-index: 9997;
}

@keyframes MOVE-BG {
    from {
        transform: translateY(0);
    }
    to {
        transform: translateY(70%);
    }
}

.chill-text {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 9999;
    font-size: 3rem;
    font-weight: 900;
    color: #F0F8FF;
    text-shadow: 
        0 0 30px rgba(255, 255, 255, 1),
        0 0 50px rgba(240, 248, 255, 0.8),
        0 0 70px rgba(230, 240, 250, 0.6),
        0 0 90px rgba(220, 235, 245, 0.4),
        2px 2px 4px rgba(0, 50, 100, 0.3);
    animation: coldTextFreeze 5s ease-out forwards;
    opacity: 0;
    letter-spacing: 3px;
}

.chill-overlay.active .chill-text {
    animation: coldTextFreeze 5s ease-out both;
    animation-delay: 3s;
}

.chill-overlay.disappearing .chill-text {
    animation: coldTextFadeOut 3s ease-in forwards;
    animation-delay: 0s;
}

.chill-overlay.disappearing .cold-particles,
.chill-overlay.disappearing .cold-particles::before,
.chill-overlay.disappearing .cold-particles::after {
    animation-duration: 50s; /* Slow down particles during fade */
    opacity: 0.3;
}

@keyframes frostSpread {
    0% {
        opacity: 0;
        transform: scale(0.8);
        backdrop-filter: blur(0px) brightness(1) saturate(1) contrast(1);
    }
    20% {
        opacity: 0.3;
        transform: scale(0.9);
        backdrop-filter: blur(1px) brightness(0.8) saturate(0.7) contrast(1.1);
    }
    50% {
        opacity: 0.7;
        transform: scale(1);
        backdrop-filter: blur(1.5px) brightness(0.6) saturate(0.5) contrast(1.2);
    }
    80% {
        opacity: 0.9;
        transform: scale(1.02);
        backdrop-filter: blur(2px) brightness(0.45) saturate(0.35) contrast(1.35);
    }
    100% {
        opacity: 1;
        transform: scale(1);
        backdrop-filter: blur(2px) brightness(0.4) saturate(0.3) contrast(1.4);
    }
}

@keyframes frostDisappear {
    0% {
        opacity: 1;
        transform: scale(1);
        backdrop-filter: blur(2px) brightness(0.4) saturate(0.3) contrast(1.4);
    }
    20% {
        opacity: 0.8;
        transform: scale(1.02);
        backdrop-filter: blur(3px) brightness(0.5) saturate(0.4) contrast(1.3);
    }
    50% {
        opacity: 0.5;
        transform: scale(1.05);
        backdrop-filter: blur(5px) brightness(0.7) saturate(0.6) contrast(1.2);
    }
    80% {
        opacity: 0.2;
        transform: scale(1.1);
        backdrop-filter: blur(8px) brightness(0.9) saturate(0.9) contrast(1.1);
    }
    100% {
        opacity: 0;
        transform: scale(1.2);
        backdrop-filter: blur(10px) brightness(1) saturate(1) contrast(1);
    }
}

@keyframes particleSpawn {
    0% {
        opacity: 0;
    }
    50% {
        opacity: 0.6;
    }
    100% {
        opacity: 1;
    }
}

@keyframes particleFloat {
    0%, 100% {
        transform: translateY(0px) translateX(0px);
    }
    25% {
        transform: translateY(-5px) translateX(2px);
    }
    50% {
        transform: translateY(3px) translateX(-1px);
    }
    75% {
        transform: translateY(-2px) translateX(3px);
    }
}

@keyframes coldTextFreeze {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
        filter: blur(8px);
        text-shadow: 
            0 0 10px rgba(255, 255, 255, 0.3),
            0 0 20px rgba(240, 248, 255, 0.2);
    }
    30% {
        opacity: 0.5;
        transform: translate(-50%, -50%) scale(0.8);
        filter: blur(4px);
        text-shadow: 
            0 0 20px rgba(255, 255, 255, 0.6),
            0 0 30px rgba(240, 248, 255, 0.4);
    }
    60% {
        opacity: 0.8;
        transform: translate(-50%, -50%) scale(1.1);
        filter: blur(2px);
        text-shadow: 
            0 0 25px rgba(255, 255, 255, 0.9),
            0 0 40px rgba(240, 248, 255, 0.7),
            0 0 60px rgba(230, 240, 250, 0.5);
    }
    100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
        filter: blur(0px);
        text-shadow: 
            0 0 30px rgba(255, 255, 255, 1),
            0 0 50px rgba(240, 248, 255, 0.8),
            0 0 70px rgba(230, 240, 250, 0.6),
            0 0 90px rgba(220, 235, 245, 0.4),
            2px 2px 4px rgba(0, 50, 100, 0.3);
    }
}

@keyframes coldTextFadeOut {
    0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
        filter: blur(0px);
        text-shadow: 
            0 0 30px rgba(255, 255, 255, 1),
            0 0 50px rgba(240, 248, 255, 0.8),
            0 0 70px rgba(230, 240, 250, 0.6),
            0 0 90px rgba(220, 235, 245, 0.4),
            2px 2px 4px rgba(0, 50, 100, 0.3);
    }
    50% {
        opacity: 0.5;
        transform: translate(-50%, -50%) scale(0.8);
        filter: blur(4px);
        text-shadow: 
            0 0 15px rgba(255, 255, 255, 0.5),
            0 0 25px rgba(240, 248, 255, 0.3);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
        filter: blur(8px);
        text-shadow: 
            0 0 5px rgba(255, 255, 255, 0.1);
    }
}
